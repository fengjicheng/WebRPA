export const phoneGuideContent = `# 📱 手机自动化指南

本章介绍如何使用Web RPA进行Android手机自动化操作。

---

## 📋 模块概览

| 模块 | 功能 | 默认超时 |
|------|------|----------|
| 📱 点击 | 点击屏幕指定坐标 | 10秒 |
| 📱 滑动 | 滑动屏幕 | 10秒 |
| 📱 长按 | 长按屏幕指定坐标 | 10秒 |
| 📱 输入文本 | 输入文字（自动切换输入法） | 30秒 |
| 📱 按键操作 | 模拟按键（返回、主页等） | 10秒 |
| 📱 截图 | 截取手机屏幕 | 30秒 |
| 📱 启动屏幕镜像 | 启动scrcpy投屏 | 30秒 |
| 📱 停止屏幕镜像 | 停止scrcpy投屏 | 10秒 |
| 📱 安装应用 | 安装APK文件 | 2分钟 |
| 📱 启动应用 | 启动指定应用 | 30秒 |
| 📱 停止应用 | 停止指定应用 | 10秒 |
| 📱 卸载应用 | 卸载指定应用 | 1分钟 |
| 📱 推送文件 | 推送文件到手机 | 2分钟 |
| 📱 拉取文件 | 从手机拉取文件 | 2分钟 |
| 📱 点击图像 | 识别并点击图像 | 1分钟 |
| 📱 点击文字 | 识别并点击文字 | 1分钟 |
| 📱 等待图像 | 等待图像出现 | 1分钟 |
| 📱 设置音量 | 设置手机音量 | 30秒 |
| 📱 设置亮度 | 设置屏幕亮度 | 10秒 |
| 📱 写入剪贴板 | 写入手机剪贴板 | 10秒 |
| 📱 读取剪贴板 | 读取手机剪贴板 | 10秒 |

---

## 🔌 环境准备

### 1. 启用USB调试

在手机上启用开发者选项和USB调试：

1. 进入「设置」→「关于手机」
2. 连续点击「版本号」7次，启用开发者选项
3. 返回「设置」→「开发者选项」
4. 开启「USB调试」
5. 开启「USB安装」（部分手机需要）

### 2. 连接手机

使用USB数据线连接手机到电脑：

1. 连接后手机会弹出「允许USB调试」提示
2. 勾选「始终允许」并点击「确定」
3. 在工作流中使用任意手机模块，系统会自动检测连接

### 3. 无线连接（可选）

也可以通过WiFi无线连接手机：

1. 手机和电脑连接同一WiFi
2. 先用USB连接一次，获取手机IP
3. 在终端执行：\`adb tcpip 5555\`
4. 断开USB，执行：\`adb connect 手机IP:5555\`

---

## 📱 基础操作

### 点击操作

点击屏幕上的指定坐标位置。

**配置说明：**

| 参数 | 说明 |
|------|------|
| X坐标 | 横向坐标（像素） |
| Y坐标 | 纵向坐标（像素） |

**获取坐标方法：**

1. 使用「启动屏幕镜像」模块打开投屏窗口
2. 在投屏窗口中点击目标位置
3. 窗口标题会显示当前坐标

**示例：**

\`\`\`
点击屏幕中心：
  X坐标：540
  Y坐标：960

点击返回按钮：
  X坐标：100
  Y坐标：100
\`\`\`

---

### 滑动操作

从起点滑动到终点，可用于翻页、解锁等。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 起点X | 起始横坐标 |
| 起点Y | 起始纵坐标 |
| 终点X | 结束横坐标 |
| 终点Y | 结束纵坐标 |
| 滑动时长 | 滑动持续时间（毫秒） |

**常用滑动方向：**

| 方向 | 起点 | 终点 | 说明 |
|------|------|------|------|
| 上滑 | (540, 1500) | (540, 500) | 向上翻页 |
| 下滑 | (540, 500) | (540, 1500) | 向下翻页 |
| 左滑 | (900, 960) | (180, 960) | 向左切换 |
| 右滑 | (180, 960) | (900, 960) | 向右切换 |

**示例：**

\`\`\`
向上滑动翻页：
  起点X：540
  起点Y：1500
  终点X：540
  终点Y：500
  时长：300

快速滑动（解锁）：
  起点X：200
  起点Y：1000
  终点X：800
  终点Y：1000
  时长：100
\`\`\`

---

### 长按操作

长按屏幕指定位置，常用于唤出菜单。

**配置说明：**

| 参数 | 说明 |
|------|------|
| X坐标 | 横向坐标 |
| Y坐标 | 纵向坐标 |
| 长按时长 | 按住时间（毫秒） |

**示例：**

\`\`\`
长按唤出菜单：
  X坐标：540
  Y坐标：960
  时长：1000

长按删除图标：
  X坐标：{图标X}
  Y坐标：{图标Y}
  时长：800
\`\`\`

---

## ⌨️ 文本输入

### 输入文本模块

向手机输入文字，支持中英文混合输入。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 输入内容 | 要输入的文字 |
| 输入完成后自动回车 | 是否自动按回车键 |

**✨ 智能输入法切换：**

系统会自动检测输入内容：
- 如果包含中文，自动切换到ADBKeyboard输入法
- 输入完成后，工作流结束时自动恢复原输入法
- 无需手动切换，完全自动化

**⚠️ 首次使用准备：**

1. 确保手机已安装ADBKeyboard输入法
2. 进入「设置」→「语言和输入法」→「输入法管理」
3. 确认「ADB Keyboard」已启用
4. 首次运行时系统会自动安装和配置

**示例：**

\`\`\`
输入搜索关键词：
  内容：Web RPA自动化
  自动回车：是

输入用户名：
  内容：{用户名变量}
  自动回车：否
\`\`\`

**使用技巧：**

1. 先点击输入框，再使用输入文本模块
2. 输入中文时会自动切换输入法，无需担心
3. 使用变量可以实现动态输入

---

### 按键操作

模拟按下手机的物理按键或虚拟按键。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 按键类型 | 要按下的按键 |

**常用按键：**

| 按键 | 说明 | 用途 |
|------|------|------|
| KEYCODE_BACK | 返回键 | 返回上一页 |
| KEYCODE_HOME | 主页键 | 回到桌面 |
| KEYCODE_MENU | 菜单键 | 打开菜单 |
| KEYCODE_ENTER | 回车键 | 确认输入 |
| KEYCODE_DEL | 删除键 | 删除文字 |
| KEYCODE_VOLUME_UP | 音量+ | 增加音量 |
| KEYCODE_VOLUME_DOWN | 音量- | 减少音量 |

**示例：**

\`\`\`
返回上一页：
  按键：KEYCODE_BACK

回到桌面：
  按键：KEYCODE_HOME

确认输入：
  按键：KEYCODE_ENTER
\`\`\`

---

## 📷 屏幕操作

### 截图功能

截取手机当前屏幕并保存。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 保存路径 | 截图保存位置（可选） |
| 存储路径到变量 | 保存文件路径的变量名 |

**示例：**

\`\`\`
截图保存：
  路径：D:/screenshots/phone_{时间}.png
  变量：截图路径

自动命名：
  路径：（留空，自动保存到默认目录）
  变量：截图文件
\`\`\`

**使用场景：**

- 记录操作过程
- 保存重要信息
- 配合OCR识别文字
- 配合图像识别定位元素

---

### 屏幕镜像

使用scrcpy实时投屏手机画面到电脑。

**启动屏幕镜像：**

| 参数 | 说明 |
|------|------|
| 视频比特率 | 画质（1-50 Mbps），默认8 |
| 最大分辨率 | 限制分辨率，默认1920 |

**比特率建议：**

| 连接方式 | 推荐比特率 | 说明 |
|----------|------------|------|
| WiFi | 8-16 Mbps | 平衡画质和流畅度 |
| USB | 16-32 Mbps | 可使用更高画质 |
| 低配电脑 | 4-8 Mbps | 降低CPU占用 |

**示例：**

\`\`\`
高画质投屏（USB）：
  比特率：20
  分辨率：1920

流畅投屏（WiFi）：
  比特率：8
  分辨率：1280
\`\`\`

**投屏窗口功能：**

- 点击窗口可查看坐标（显示在标题栏）
- 可以直接在投屏窗口操作手机
- 支持键盘输入和鼠标操作

**停止屏幕镜像：**

使用「停止屏幕镜像」模块关闭投屏窗口。

---

## 📦 应用管理

### 安装应用

安装APK文件到手机。

**配置说明：**

| 参数 | 说明 |
|------|------|
| APK文件路径 | 要安装的APK文件 |

**示例：**

\`\`\`
安装应用：
  APK路径：D:/apps/myapp.apk

批量安装：
  获取文件列表：D:/apps/*.apk → {APK列表}
  遍历列表：{APK列表}
    安装应用：{当前项}
\`\`\`

---

### 启动应用

启动手机上已安装的应用。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 包名 | 应用的包名 |

**如何获取包名：**

1. 在手机上打开目标应用
2. 在终端执行：\`adb shell dumpsys window | findstr mCurrentFocus\`
3. 输出中的包名格式：\`com.example.app\`

**常用应用包名：**

| 应用 | 包名 |
|------|------|
| 微信 | com.tencent.mm |
| QQ | com.tencent.mobileqq |
| 支付宝 | com.eg.android.AlipayGphone |
| 淘宝 | com.taobao.taobao |
| 抖音 | com.ss.android.ugc.aweme |

**示例：**

\`\`\`
启动微信：
  包名：com.tencent.mm

启动自定义应用：
  包名：{应用包名变量}
\`\`\`

---

### 停止应用

强制停止正在运行的应用。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 包名 | 要停止的应用包名 |

**示例：**

\`\`\`
停止微信：
  包名：com.tencent.mm
\`\`\`

---

### 卸载应用

从手机卸载指定应用。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 包名 | 要卸载的应用包名 |

**示例：**

\`\`\`
卸载应用：
  包名：com.example.testapp
\`\`\`

---

## 📁 文件传输

### 推送文件

将电脑上的文件推送到手机。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 本地文件路径 | 电脑上的文件 |
| 手机目标路径 | 手机上的保存位置 |

**常用手机目录：**

| 目录 | 说明 |
|------|------|
| /sdcard/Download/ | 下载目录 |
| /sdcard/DCIM/ | 相机照片 |
| /sdcard/Pictures/ | 图片目录 |
| /sdcard/Documents/ | 文档目录 |

**示例：**

\`\`\`
推送图片：
  本地：D:/photos/image.jpg
  手机：/sdcard/Pictures/image.jpg

推送配置文件：
  本地：D:/config.json
  手机：/sdcard/Download/config.json
\`\`\`

---

### 拉取文件

从手机拉取文件到电脑。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 手机文件路径 | 手机上的文件 |
| 本地保存路径 | 电脑上的保存位置 |
| 存储路径到变量 | 保存文件路径的变量名 |

**示例：**

\`\`\`
拉取照片：
  手机：/sdcard/DCIM/Camera/IMG_001.jpg
  本地：D:/photos/phone_photo.jpg
  变量：照片路径

拉取日志：
  手机：/sdcard/app_log.txt
  本地：D:/logs/phone_log.txt
  变量：日志文件
\`\`\`

---

## 🔍 视觉识别

### 点击图像

通过图像识别定位并点击目标。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 图像文件路径 | 要查找的目标图片 |
| 点击方式 | 单击或长按 |
| 相似度阈值 | 匹配精度（0-1），默认0.8 |
| 超时时间 | 查找超时（秒） |

**使用步骤：**

1. 先截图获取目标图像
2. 裁剪出要识别的部分（越小越精确）
3. 保存为PNG格式
4. 在模块中选择该图片

**示例：**

\`\`\`
点击登录按钮：
  图像：D:/images/login_button.png
  方式：单击
  相似度：0.8
  超时：30

长按图标：
  图像：D:/images/app_icon.png
  方式：长按
  相似度：0.9
  超时：20
\`\`\`

**使用技巧：**

- 目标图像要清晰、特征明显
- 避免包含会变化的内容（如时间、数字）
- 相似度太高可能找不到，太低可能误识别
- 建议相似度设置在0.75-0.85之间

---

### 点击文字

通过OCR识别文字并点击。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 目标文字 | 要查找的文字内容 |
| 匹配模式 | 完全匹配/包含匹配 |
| 点击方式 | 单击或长按 |
| 超时时间 | 查找超时（秒） |

**示例：**

\`\`\`
点击"确定"按钮：
  文字：确定
  模式：完全匹配
  方式：单击
  超时：30

点击包含"登录"的按钮：
  文字：登录
  模式：包含匹配
  方式：单击
  超时：20
\`\`\`

**使用场景：**

- 点击按钮（确定、取消、登录等）
- 点击菜单项
- 点击列表项
- 点击标签页

---

### 等待图像

等待指定图像出现在屏幕上。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 图像文件路径 | 要等待的目标图片 |
| 相似度阈值 | 匹配精度（0-1） |
| 检查间隔 | 每次检查间隔（秒） |
| 存储结果到变量 | 保存位置和匹配度信息 |

**示例：**

\`\`\`
等待加载完成：
  图像：D:/images/loaded_icon.png
  相似度：0.8
  间隔：0.5
  变量：加载结果

等待按钮出现：
  图像：D:/images/next_button.png
  相似度：0.85
  间隔：1
  变量：按钮位置
\`\`\`

**使用场景：**

- 等待页面加载完成
- 等待按钮出现
- 等待动画结束
- 等待弹窗显示

---

## ⚙️ 系统设置

### 设置音量

调整手机音量大小。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 音量类型 | 媒体/铃声/通话/闹钟 |
| 音量大小 | 0-15（0为静音） |

**示例：**

\`\`\`
设置媒体音量：
  类型：媒体音量
  大小：10

静音：
  类型：铃声音量
  大小：0
\`\`\`

---

### 设置亮度

调整屏幕亮度。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 亮度值 | 0-255（0最暗，255最亮） |

**示例：**

\`\`\`
设置中等亮度：
  亮度：128

最大亮度：
  亮度：255

最低亮度：
  亮度：10
\`\`\`

---

## 📋 剪贴板操作

### 写入剪贴板

将文本写入手机剪贴板。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 文本内容 | 要写入的文字 |

**✨ 自动处理Clipper：**

系统会自动检测并使用Clipper应用：
- 首次使用时自动安装Clipper
- 自动选择最佳方法写入剪贴板
- 无需手动配置

**示例：**

\`\`\`
复制文本：
  内容：Hello World

复制变量：
  内容：{用户名}
\`\`\`

**使用场景：**

- 复制文本到手机
- 配合粘贴操作
- 传递数据到手机应用

---

### 读取剪贴板

读取手机剪贴板的内容。

**配置说明：**

| 参数 | 说明 |
|------|------|
| 存储到变量 | 保存剪贴板内容的变量名 |

**✨ 自动处理Clipper：**

- 自动检测Clipper应用状态
- 首次使用时自动安装
- 自动选择最佳读取方法

**示例：**

\`\`\`
读取剪贴板：
  变量：剪贴板内容

使用剪贴板内容：
  读取剪贴板 → {内容}
  打印日志：{内容}
\`\`\`

**使用场景：**

- 获取手机复制的文本
- 从手机应用获取数据
- 实现跨应用数据传递

---

## 💡 实用技巧

### 1. 坐标定位技巧

**方法一：使用投屏窗口**
\`\`\`
启动屏幕镜像
  → 在投屏窗口点击目标位置
  → 标题栏显示坐标
  → 记录坐标用于点击模块
\`\`\`

**方法二：使用截图+图像编辑器**
\`\`\`
截图 → 在图像编辑器中查看坐标
\`\`\`

---

### 2. 等待页面加载

**方法一：固定等待**
\`\`\`
点击按钮
等待：2秒
继续操作
\`\`\`

**方法二：等待图像（推荐）**
\`\`\`
点击按钮
等待图像：加载完成图标
继续操作
\`\`\`

---

### 3. 批量操作

**示例：批量安装应用**
\`\`\`
获取文件列表：D:/apks/*.apk → {APK列表}
遍历列表：{APK列表}
  安装应用：{当前项}
  等待：3秒
\`\`\`

---

### 4. 错误处理

**使用条件判断**
\`\`\`
点击图像：登录按钮 → {结果}
条件判断：{结果} 包含 "成功"
  是：继续操作
  否：打印日志：未找到登录按钮
\`\`\`

---

### 5. 组合使用

**示例：自动登录**
\`\`\`
启动应用：com.example.app
等待：2秒
点击：用户名输入框坐标
输入文本：{用户名}
点击：密码输入框坐标
输入文本：{密码}
点击图像：登录按钮图片
等待图像：登录成功图标
\`\`\`

---

## ⚠️ 常见问题

### 1. 手机未检测到

**解决方法：**
- 检查USB线是否连接
- 确认已开启USB调试
- 重新插拔USB线
- 在手机上允许USB调试授权

---

### 2. 输入中文失败

**解决方法：**
- 确保ADBKeyboard已安装
- 进入输入法管理，启用ADB Keyboard
- 系统会自动切换，无需手动操作

---

### 3. 图像识别失败

**解决方法：**
- 降低相似度阈值（0.75-0.8）
- 使用更小、更精确的目标图像
- 确保目标图像清晰
- 避免包含会变化的内容

---

### 4. 剪贴板操作失败

**解决方法：**
- 系统会自动安装Clipper应用
- 确保手机已授权安装权限
- 首次使用时等待Clipper安装完成

---

### 5. 投屏画面卡顿

**解决方法：**
- 降低比特率（4-8 Mbps）
- 降低分辨率（1280或更低）
- 使用USB连接代替WiFi
- 关闭其他占用资源的程序

---

## 🎯 完整示例

### 示例1：自动签到

\`\`\`
1. 启动应用：com.example.app
2. 等待：3秒
3. 点击图像：签到按钮.png
4. 等待图像：签到成功.png
5. 截图：D:/screenshots/签到_{日期}.png
6. 按键操作：KEYCODE_BACK
\`\`\`

---

### 示例2：批量发送消息

\`\`\`
1. 启动应用：com.tencent.mm (微信)
2. 等待：3秒
3. 设置变量：联系人列表 = ["张三", "李四", "王五"]
4. 遍历列表：{联系人列表}
   a. 点击：搜索框坐标
   b. 输入文本：{当前项}
   c. 等待：1秒
   d. 点击：第一个搜索结果坐标
   e. 点击：输入框坐标
   f. 输入文本：你好，这是自动消息
   g. 按键操作：KEYCODE_ENTER
   h. 等待：1秒
   i. 按键操作：KEYCODE_BACK
   j. 按键操作：KEYCODE_BACK
\`\`\`

---

### 示例3：自动化测试

\`\`\`
1. 安装应用：D:/test.apk
2. 等待：5秒
3. 启动应用：com.example.test
4. 等待：3秒
5. 点击：注册按钮坐标
6. 输入文本：测试用户名
7. 点击：下一步坐标
8. 输入文本：test@example.com
9. 点击：完成坐标
10. 等待图像：注册成功.png
11. 截图：D:/test_results/success.png
12. 卸载应用：com.example.test
\`\`\`

---

## 📚 相关文档

- [变量系统详解](variables-guide) - 了解如何使用变量
- [流程控制](advanced-features) - 学习条件判断和循环
- [AI识别](advanced-features) - 使用OCR和图像识别

---

**提示：** 手机自动化功能强大，但请合理使用，遵守相关法律法规和应用服务条款。
`
